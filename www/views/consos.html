<section layout="row" flex>
    <div layout="column" layout-padding flex>
        <md-toolbar class="md-primary">
            <div class="md-toolbar-tools">
                <h1 class="md-toolbar-tools">
                    Panier
                </h1>
                <span flex></span>
                <md-button class="md-icon-button" aria-label="Annuler">
                    <md-tooltip>
                        Vider le panier
                    </md-tooltip>
                    <md-icon md-font-icon="fa-times" class="fa md-headline"></md-icon>
                </md-button>
                <md-button class="md-icon-button" aria-label="Confirmer">
                    <md-tooltip>
                        Confirmer le panier
                    </md-tooltip>
                    <md-icon md-font-icon="fa-check" class="fa md-headline"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-content layout="row" layout-padding class="md-whiteframe-z3">
            <div layout="row" layout-wrap flex="80" flex-sm="50">
                <md-card class="beer selectable" flex="20" flex-sm="100">
                    <md-card-content layout="column" layout-align="center center">
                        <img src="imgs/interrogation.png" class="md-card-image" alt="Image bière">
                        <div class="details">Choisis des élèves</div>
                    </md-card-content>
                </md-card>
            </div>
            <div flex="20" flex-sm="50">
                <md-card class="beer selectable" flex="25" ng-click="emptyBeer()">
                    <md-card-content layout="column" layout-align="center center">
                        <img ng-if="beer.image_url"  class="md-card-image" alt="Image bière" ng-src="{{ beer.image_url | thumb | urlFile }}">
                        <img ng-if="!beer.image_url" class="md-card-image" alt="Image bière" src="imgs/interrogation.png">
                        <div class="details">{{ beer.name }} {{ beer.price ? '(' + beer.price + '€)' : '' }}</div>
                    </md-card-content>
                </md-card>
            </div>
        </md-content>

        <div layout="row" layout-wrap layout-padding>
            <div flex="50" flex-sm="100">
                <form ng-submit="$event.preventDefault()">
                    <md-autocomplete
                        md-search-text="searchText1"
                        md-search-text-change="searchTextChange(searchText1)"
                        md-selected-item-change="selectedUserChange(user)"
                        md-items="user in searchUser(searchText1)"
                        md-item-text="user.name"
                        md-min-length="1"
                        placeholder="Rechercher un élève...">
                        <md-item-template>
                            <span md-highlight-text="searchText1" md-highlight-flags="^i">{{ user.name }}</span>
                        </md-item-template>
                        <md-not-found>
                            Pas d'élève trouvé pour "{{ searchText1 }}".
                        </md-not-found>
                    </md-autocomplete>
                </form>
            </div>
            <div flex="50" flex-sm="100">
                <form ng-submit="$event.preventDefault()">
                    <md-autocomplete
                        md-search-text="searchText2"
                        md-search-text-change="searchTextChange(searchText2)"
                        md-selected-item-change="selectedBeerChange(beer)"
                        md-items="beer in searchBeer(searchText2)"
                        md-item-text="beer.name"
                        md-min-length="1"
                        placeholder="Rechercher une bière...">
                        <md-item-template>
                            <span md-highlight-text="searchText2" md-highlight-flags="^i">{{ beer.name }}</span>
                        </md-item-template>
                        <md-not-found>
                            Pas de bières trouvées pour "{{ searchText2 }}".
                        </md-not-found>
                    </md-autocomplete>
                </form>
                <div layout="row" layout-wrap layout-align="center center">
                    <md-card class="beer selectable" ng-repeat="beer in beers" flex="25" flex-sm="100" ng-click="selectBeer(beer)">
                        <md-card-content layout="column" layout-align="center center">
                            <img ng-if="beer.image_url"  class="md-card-image" alt="Image bière" ng-src="{{ beer.image_url | thumb | urlFile }}">
                            <img ng-if="!beer.image_url" class="md-card-image" alt="Image bière" src="imgs/interrogation.png">
                            <div class="details">{{ beer.name }} ({{ beer.price }}€)</div>
                        </md-card-content>
                    </md-card>
                </div>
            </div>
        </div>
    </div>

    <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right" md-is-locked-open="$mdMedia('gt-lg')">
        <md-toolbar class="md-theme-light">
            <h1 class="md-toolbar-tools">Historique des consos</h1>
        </md-toolbar>
        <md-content layout-padding>
            LOWOWL
        </md-content>
    </md-sidenav>
</section>
